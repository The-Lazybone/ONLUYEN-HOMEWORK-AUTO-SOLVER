<!DOCTYPE html>
<html>
<head>
    <title>MCQ Scraper Test</title>
</head>
<body>

    <h1>Test Page for MCQ Scraper</h1>

    <h2>Old Question Format</h2>
    <div id="old-question-container" class="question-name">
        <div class="fadein">
            <p>This is a sample question in the old format.</p>
        </div>
        <div class="row text-left options">
            <div class="question-option">
                <div class="question-option-label">A</div>
                <div class="question-option-content">Option A</div>
            </div>
            <div class="question-option">
                <div class="question-option-label">B</div>
                <div class="question-option-content">Option B</div>
            </div>
        </div>
    </div>

    <hr>

    <h2>New Question Format</h2>
    <div id="new-question-container">
        <div class="fadein">
            <div class="content">
                <div class="text-small">This is a sample question in the new format.</div>
            </div>
            <div class="list-selection vertical-sort">
                <div class="select-item">
                    <input class="form-check-input" name="answer" type="radio" value="1">
                    <span class="number-item">a</span>
                    <label>Option a</label>
                </div>
                <div class="select-item">
                    <input class="form-check-input" name="answer" type="radio" value="2">
                    <span class="number-item">b</span>
                    <label>Option b</label>
                </div>
            </div>
        </div>
    </div>

    <script src="solver.js"></script>
    <script>
        // Test script
        console.log("Test page loaded. Running manual scrape test...");
        console.log("Value of window.hwSolver:", window.hwSolver);

        if (window.hwSolver && window.hwSolver.scraper) {
            window.hwSolver.stop(); // Ensure scheduler is stopped
            try {
                console.log("--- Testing Old Question Format ---");
                const oldContainer = document.getElementById('old-question-container');
                const oldDetected = window.hwSolver.scraper.scrapeMCQ(oldContainer);
                console.log("Scraped Old Data:", oldDetected);

                console.log("--- Testing New Question Format ---");
                const newContainer = document.getElementById('new-question-container');
                const newDetected = window.hwSolver.scraper.scrapeMCQ(newContainer);
                console.log("Scraped New Data:", newDetected);

            } catch (e) {
                console.error("Error during manual scrape:", e);
                console.error("Error stack:", e.stack);
            }
        } else {
            console.error("window.hwSolver or window.hwSolver.scraper is not defined.");
        }
    </script>

</body>
</html>
